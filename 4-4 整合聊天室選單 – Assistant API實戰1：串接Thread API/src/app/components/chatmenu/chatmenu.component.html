<ion-menu
  menuId="chat-menu"
  contentId="main-content"
  maxEdgeStart="50"
  type="push"
>
  <ion-header>
    <ion-toolbar>
      <div class="border-b border-gray-300">
        <div
          class="mx-2 my-4 p-2 border-2 border-gray-400 rounded-lg bg-white flex flew-row items-center justify-center text-gray-500"
          (click)="onChatRoomCreate()"
        >
          <ion-icon class="text-xl" name="add-circle-outline"></ion-icon>
          <span>新增聊天室</span>
        </div>
      </div>
    </ion-toolbar>
  </ion-header>
  <ion-content class="ion-padding">
    @for(item of chatRoomList(); track item) {
    <div class="flex flex-col">
      <div
        [class]="
          'ion-activatable relative overflow-hidden flex flex-row items-center m-2 p-2 rounded-lg ' +
          (item.isSelected
            ? 'bg-gradient-to-br from-purple-500 to-blue-400 border-2 border-gray-300 text-white'
            : '')
        "
      >
        <div
          class="flex-1 flex flex-row items-center"
          (click)="onChatRoomSelect(item.chatroomId)"
        >
          <ion-icon
            class="flex-none text-xl"
            name="chatbubbles-outline"
          ></ion-icon>
          <span class="flex-1 mx-2">{{ item.name }}</span>
        </div>
        <div
          class="flex-none flex items-center p-2"
          (click)="onChatRoomDelete(item.chatroomId)"
        >
          @if (!item.isSelected) {
          <ion-icon
            class="flex-none text-xl text-rose-400"
            name="trash-outline"
          ></ion-icon>
          }
        </div>
        <ion-ripple-effect></ion-ripple-effect>
      </div>
    </div>
    }
  </ion-content>
</ion-menu>
